<div class="rating-do-container"> <div ng-hide="data.loaded" class="full-height text-primary"> <centered-fa-spinner></centered-fa-spinner> </div> <div ng-show="data.loaded" class="container-fluid smb-static-height economical-filters"> <div class="filters-container"> <table width="100%"> <tbody> <tr> <td> <table style="width:auto;" ng-show="filter.viewMode!=2"> <tbody> <tr> <td class="text-left" style="width: 20px; padding: 5px;"> ДО: </td> <td class="text-left" style="width: 240px"> <div class="control-filter"> <button style="position: relative;" type=" button" class="btn btn-sm btn-default btn-select" ng-model="filter.companyUID" placeholder="Компания" bs-options="company.UID as company.name for company in data.companies" bs-select> <span class="caret"></span> </button> </div> </td> </tr> </tbody> </table> <!-- <smb-triple-data-switch ng-model="filter.drillType"></smb-triple-data-switch> --> </td> <td class="text-center"> <smb-triple-period-switch ng-show="filter.viewMode==2" ng-model="filter.timeKeyMarks"> </smb-triple-period-switch> <div ng-show="filter.viewMode!=2" class="btn-group"> <button type="button" class="btn btn-default btn-primary">Год </button> </div> <period-counter ng-show="filter.viewMode!=2" time-key="filter.timeKeyYear" time-count="filter.timeCountYear"> </period-counter> <period-counter ng-show="filter.viewMode==2" time-key="filter.timeKeyMarks" time-count="filter.timeCountMarks"></period-counter> <!--<label class="period-label">{{getPeriodLabel()}}</label>--> </td> <td class="text-right"> <!-- <smb-triple-type-switch ng-model="filter.wellState"></smb-triple-type-switch> --> <div style="margin-right: 10px; display: inline-block;" bs-tooltip="'Сохранить'" data-placement="bottom" data-delay="1000,0"> <button type="button" class="btn btn-default btn-primary" ng-click="Save()" data-container="body" ng-disabled="!canSave"> <i class="fa fa-save"></i> </button> </div> <div style="margin-right: 30px; display: inline-block;" bs-tooltip="'Отменить'" data-placement="bottom" data-delay="1000,0"> <button type="button" class="btn btn-default" ng-click="Undo()" ng-disabled="!canSave" data-container="body"> <i class="fa fa-undo"></i> </button> </div> <smb-double-view-switch ng-model="filter.viewMode" show-table="true" show-chart="true" show-excel="false" rating-do-handler="openRatingDoMarks()" show-rating-do="true" show-settings="false" settings-handler="openSettings()"> </smb-double-view-switch> </td> </tr> </tbody> </table> </div> </div> <div ng-show="data.error" class="container-fluid physical-content-container error-container"> <p class="error-message">Не удалось получить данные.</p> </div> <div ng-hide="data.chartsLoaded" class="container-fluid physical-content-container error-container"> <centered-fa-spinner></centered-fa-spinner> </div> <div ng-show="data.loaded" class="container-fluid flipper-container economical-content-container"> <div class="flipper" ng-class="{flipped: filter.viewMode, isHidden:filter.viewMode==2}"> <div class="front full-height"> <!-- <div class="charts-container">
              <a ng-href="{{getParamLink(param)}}" class="col-sm-4 dash-item" ng-repeat="param in data.params">
                <h4 class="dash-item-header">{{getAttributeFullName(param)}}<br/><span class="dimension">{{getAttributeMUnit(param)}}</span></h4>
                <div class="dash-item-chart">
                  <save-svg-btn file-name="Экономика {{getAttributeFullName(param)}}"></save-svg-btn>
                  <div grouped-bar-chart
                       ng-model="data.chartsData[param]"
                       show-values="filter.showValues"
                       class="full-height"
                       tip-class="grouped-chart-tip"
                       title-tip-class="grouped-chart-tip-title"
                       tip-height="35"
                       bar-colors="(filter.timeKey === 'year')?onlyFactChatsColor:factChatsColor"
                       axis-offset-y="50"
                       axis-offset-x="50"></div>
                </div>
              </a>
            </div> --> <div class="charts-container"> <h4 class="h4_header">Показатели для расчета рейтинга {{filter.companyName}}</h4> <div style="overflow: auto;"> <div class="dash-item d_ratingDoChart" ng-repeat="chart in chartOptions"> <div class="dash-item-chart"> <save-svg-btn file-name="Показатель для  {{filter.companyName}} - {{dataSource[$index].ParamUomName}} "> </save-svg-btn> <div id="ratingChart{{$index}}" dx-chart="chartOptions[$index]"></div> </div> </div> <!-- <div grouped-bar-chart ng-model="data.chartsData[param]" show-values="filter.showValues" class="full-height"
              tip-class="grouped-chart-tip" title-tip-class="grouped-chart-tip-title" tip-height="35"
              bar-colors="(filter.timeKey === 'year')?onlyFactChatsColor:factChatsColor" axis-offset-y="50"
              axis-offset-x="50"></div> --> </div> </div> </div> <div class="back full-height"> <div class="tables-container"> <button type="button" class="btn btn-default btn-primary" ng-click="LoadCellData()" ng-disabled="!(bCellIsSelected && authData.CanEditDzoRating)">Загрузить данные </button> <h4 class="h4_header">Показатели для расчета рейтинга {{filter.companyName}}</h4> <div id="ratingGrid" dx-data-grid="gridOptions" dx-item-alias="row" style="top: 40px;
          left: 0;
          right: 0px;
          bottom: 30px;
          position: absolute;"> <div data-options="dxTemplate:{ name: 'numberBoxEditorTemplate'}"> <div dx-number-box="initNumberBoxEditor(row)"> <!-- <div data-options="dxTemplate:{ name: 'contentTemplate'}">
                  <div dx-data-grid="initContent(row, item.component)"></div>
                </div> --> </div> </div> </div> <!-- <div class="dash-item-chart">
            <div table-chart ng-model="data.chartsData[param]" splitted="true"></div>
          </div> --> </div> </div> </div> <div ng-class="{isHidden:filter.viewMode!=2}" style="position: relative;    height: 100%;"> <div class="front full-height"> <div class="tables-container"> <h4 class="h4_header">{{marksTitle}}</h4> <div id="ratingMarksGrid" dx-data-grid="gridMarksOptions" style="top: 0;
          left: 0;
          right: 0px;
          bottom: 30px;
          position: absolute;"></div> </div> </div> </div> </div> </div>