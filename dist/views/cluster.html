<div class="cluster-container"> <div ng-hide="data.loaded" class="full-height text-primary"> <centered-fa-spinner></centered-fa-spinner> </div> <div ng-show="data.loaded" class="container-fluid top-padded locality-filters"> <div class="filters-container"> <table width="100%"> <tbody> <tr> <td> <smb-triple-data-switch ng-model="filter.drillType"></smb-triple-data-switch> </td> <td class="text-center" ng-show="filter.wellState !== 4"> <smb-triple-period-switch ng-model="filter.timeKey"></smb-triple-period-switch> <period-counter time-key="filter.timeKey" time-count="filter.timeCount"></period-counter> </td> <td class="text-right"> <smb-triple-type-switch ng-model="filter.wellState"></smb-triple-type-switch> <smb-double-view-switch ng-model="filter.viewMode" show-excel="true" excel-handler="getExcel()" show-external-chart="false" external-chart-handler="openExternalChart()"></smb-double-view-switch> </td> </tr> </tbody> </table> </div> <div class="sub-heading"> <a class="choice" href="" ng-click="selectCompany(data.company)">{{data.company.name}}</a> <i class="fa fa-long-arrow-right"></i> <a class="choice" href="" ng-click="selectField(data.field)">{{data.field.name}}</a> <i class="fa fa-long-arrow-right"></i> <a class="choice" data-animation="am-fade-and-slide-top" data-template="views/modals/clusters.html" bs-modal="modal">{{data.cluster.name}}</a> <i class="fa fa-long-arrow-right"></i> <a class="choice" data-animation="am-fade-and-slide-top" data-template="views/modals/wells.html" bs-modal="modal">Все скважины</a> </div> <div class="sub-tabbable" ng-class="{'objects-hiden': !filter.showObjects}"> <div class="toggle-btn" ng-click="filter.showObjects = !filter.showObjects"> <i class="fa fa-chevron-right" ng-show="filter.showObjects"></i> <i class="fa fa-chevron-left" ng-hide="filter.showObjects"></i> </div> <div class="objects-types"> <p class="title" ng-show="filter.showActiveObjects">Активные объекты <button type="button" class="btn btn-default btn-xs" ng-click="filter.showActiveObjects = false">Показать все объекты</button></p> <p class="title" ng-hide="filter.showActiveObjects">Все объекты <button type="button" class="btn btn-default btn-xs" ng-click="filter.showActiveObjects = true">Показать активные объекты</button> </p> </div> <div class="objects-table-content" ng-if="filter.showActiveObjects"> <div class="no-objects" ng-show="!getActiveObjects() || !getActiveObjects().length"> <h4 class="text-center">Активных объектов нет</h4> </div> <div class="table-header"> <table class="table table-striped"> <thead> <th width="50">#</th> <th width="140">Объект</th> <th width="60">ГТИ</th> <th width="60">Тел-я</th> <th width="150">Этап работ</th> <th width="125">Цель бурения</th> <th class="scroll-cell"><span></span></th> </thead> </table> </div> <div class="table-body"> <table class="table table-striped"> <tbody vs-repeat vs-scroll-parent=".table-body"> <tr ng-repeat="activeObject in getActiveObjects()"> <td width="50">{{$index + startIndex + 1}}</td> <td width="140"><a href="#/well/{{activeObject.companyUID}}/{{activeObject.fieldUID}}/{{activeObject.wellUID}}">{{getObjectName(activeObject)}}</a> </td> <td class="text-center" width="60"> <i class="fa fa-circle" ng-class="{'green-puls': getObjectGti(activeObject) === '1', 'red-puls': getObjectGti(activeObject) === '0'}"></i> </td> <td class="text-center" width="60"> <i class="fa fa-circle" ng-class="{'green-puls': getObjectMwd(activeObject) === '1','red-puls': getObjectMwd(activeObject) === '0'}"></i> </td> <td width="150">{{getObjectActivity(activeObject)}}</td> <td width="125">{{getDrillTypeName(activeObject.drillType)}}</td> </tr> </tbody> </table> </div> </div> <div class="objects-table-content" ng-if="!filter.showActiveObjects"> <div class="no-objects" ng-show="!getObjects() || !getObjects().length"> <h4 class="text-center">Объектов нет</h4> </div> <div class="table-header"> <table class="table table-striped"> <thead> <th width="50">#</th> <th width="140">Объект</th> <th width="60">ГТИ</th> <th width="60">Тел-я</th> <th width="150">Этап работ</th> <th width="125">Цель бурения</th> <th class="scroll-cell"><span></span></th> </thead> </table> </div> <div class="table-body"> <table class="table table-striped"> <tbody vs-repeat vs-scroll-parent=".table-body"> <tr ng-repeat="activeObject in getObjects()"> <td width="50">{{$index + startIndex + 1}}</td> <td width="140"><a href="#/well/{{activeObject.companyUID}}/{{activeObject.fieldUID}}/{{activeObject.wellUID}}">{{getObjectName(activeObject)}}</a> </td> <td class="text-center" width="60"> <i class="fa fa-circle" ng-class="{'green-puls': getObjectGti(activeObject) === '1', 'red-puls': getObjectGti(activeObject) === '0'}"></i> </td> <td class="text-center" width="60"> <i class="fa fa-circle" ng-class="{'green-puls': getObjectMwd(activeObject) === '1','red-puls': getObjectMwd(activeObject) === '0'}"></i> </td> <td width="150">{{getObjectActivity(activeObject)}}</td> <td width="125">{{getDrillTypeName(activeObject.drillType)}}</td> </tr> </tbody> </table> </div> </div> <div class="table-legend">&nbsp;&nbsp;&nbsp; <i class="fa fa-circle green-puls"></i> - есть данные&nbsp;&nbsp;&nbsp;&nbsp; <i class="fa fa-circle red-puls"></i> - нет данных&nbsp;&nbsp;&nbsp;&nbsp; <i class="fa fa-circle"></i> - нет информации&nbsp;&nbsp;&nbsp;&nbsp; </div> </div> <div class="sub-widgets-container error-container" ng-show="emptyPhysData() && emptyFinData()" ng-switch on="filter.drillType"> <h3 ng-switch-when="0">За данный период Эксплутационные скважины не бурились</h3> <h3 ng-switch-when="1">За данный период скважины ЗБС не бурились</h3> <h3 ng-switch-when="2">За данный период скважины ПРБ не бурились</h3> </div> <div ng-show="data.error" class="sub-widgets-container error-container"> <p class="error-message">Не удалось получить данные.</p> </div> <div ng-hide="data.widgetsLoaded" class="sub-widgets-container error-container"> <centered-fa-spinner></centered-fa-spinner> </div> <div class="sub-widgets-container" ng-class="{'objects-hiden': !filter.showObjects}" ng-hide="emptyPhysData() && emptyFinData()"> <div ng-hide="emptyPhysData()"> <div class="sub-npv-title" ng-click="filter.deckPhysicalIsOpen=!filter.deckPhysicalIsOpen"> <span><a>Физика</a><i class="fa" ng-class="{'fa-angle-right':!filter.deckPhysicalIsOpen,'fa-angle-down':filter.deckPhysicalIsOpen}"></i></span> </div> <div class="sub-npv" ng-class="{'close-sub': !filter.deckPhysicalIsOpen}"> <div class="sub-widget-container" ng-repeat="param in data.physParams" ng-show="data.physWidgetsData[param]"> <smb-widget ng-model="data.physWidgetsData[param]" hide-difference="filter.wellState === 4" hide-plan="true"></smb-widget> </div> </div> </div> <div ng-hide="emptyFinData()"> <div class="sub-npv-title" ng-click="filter.deckEconomicalIsOpen=!filter.deckEconomicalIsOpen"> <span><a>Экономика</a><i class="fa" ng-class="{'fa-angle-right':!filter.deckEconomicalIsOpen,'fa-angle-down':filter.deckEconomicalIsOpen}"></i></span> </div> <div class="sub-npv" ng-class="{'close-sub': !filter.deckEconomicalIsOpen}"> <div class="sub-widget-container" ng-repeat="param in data.finParams" ng-show="data.finWidgetsData[param]"> <smb-widget ng-model="data.finWidgetsData[param]" hide-difference="filter.wellState === 4" hide-plan="true"></smb-widget> </div> </div> </div> </div> </div> </div>