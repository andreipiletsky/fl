<div class="wells-chart-container"> <div ng-hide="data.loaded" class="full-height text-primary"> <centered-fa-spinner></centered-fa-spinner> </div> <div ng-show="data.loaded" class="container-fluid smb-static-height pvchart-filters"> <div class="filters-container"> <table width="100%"> <tbody> <tr> <td> <smb-triple-data-switch ng-model="filter.drillType"></smb-triple-data-switch> </td> <td class="text-center" ng-show="filter.wellState !== 4"> <smb-triple-period-switch ng-model="filter.timeKey"></smb-triple-period-switch> <period-counter time-key="filter.timeKey" time-count="filter.timeCount"></period-counter> <!-- <label class="period-label">{{data.period}}</label> --> </td> <td class="text-right"> <smb-triple-type-switch ng-model="filter.wellState"></smb-triple-type-switch> <smb-double-view-switch show-excel="true" excel-handler="getExcel()"></smb-double-view-switch> </td> </tr> </tbody> </table> </div> <div class="sub-heading"> <a class="choice" href="#/physicalData">Данные по всей компаниии</a> <i class="fa fa-long-arrow-right"></i> <span class="no-choice" ng-show="singleCompany()">Данные по компаниям</span> <a class="choice" ng-hide="singleCompany()" href="#/companiesChart/{{filter.attributeName}}">Данные по компаниям</a> <i class="fa fa-long-arrow-right"></i> <a class="choice" href="#/fieldsChart/{{filter.attributeName}}/{{data.company.UID}}">{{data.company.name}}</a> <i class="fa fa-long-arrow-right"></i> <a class="choice" href="#/fieldChart/{{filter.attributeName}}/{{data.company.UID}}/{{data.field.UID}}">{{data.field.name}}</a> </div> </div> <div ng-show="data.error" class="container-fluid fields-chart-content-container error-container"> <p class="error-message">Не удалось получить данные.</p> </div> <div ng-hide="data.chartsLoaded" class="container-fluid fields-chart-content-container error-container"> <centered-fa-spinner></centered-fa-spinner> </div> <div ng-show="data.loaded" class="container-fluid fields-chart-content-container"> <div class="charts-container"> <div class="row half-height-padded"> <div class="dash-item one-rows dash-item-fixed"> <h4 class="dash-item-header"> <button type="button" class="btn btn-default" ng-model="filter.attributeName" bs-options="param as getAttributeNameWithUom(param) for param in data.params" placeholder="{{getAttributeNameWithUom(filter.attributeName)}}" bs-select> <span class="caret"></span> </button> по <span ng-show="data.profiles">{{data.profiles}}</span> скважинам<br> <!--            <span>{{data.chartsData.wells.uom}}</span>--> </h4> <div class="dash-item-chart"> <div class="dash-item-chart-wrapper"> <div class="dash-item-chart-container"> <save-svg-btn file-name="Физика {{data.chartsData.wells.displayName}} месторождение {{data.field.name}} по скважинам"></save-svg-btn> <grouped-bar-chart ng-model="data.chartsData.wells" show-values="filter.showValues" show-average-lines="!filter.hideAllAverageLines && filter.showAverageLines" show-markers="(filter.timeKey === 'year')?filter.showMarkersYear:filter.showMarkers" reverse-markers="filter.reverseMarkers" tip-class="grouped-chart-tip" title-tip-class="grouped-chart-tip-title" tip-height="35" axis-offset-x="50" axis-offset-y="50" bar-colors="(filter.timeKey === 'year')?onlyFactChatsColor:factChatsColor"></grouped-bar-chart> </div> <div class="dash-item-chart-legend" ng-show="data.chartsData.wells"> . <div class="checkbox" ng-hide="filter.hideAllAverageLines"><label class="average"><input type="checkbox" ng-model="filter.showAverageLines[0]"> Среднее, {{data.chartsData.wells.averageLines[0].value | round:data.chartsData.wells.roundTo}} {{data.chartsData.wells.uom}}</label></div> <!--<div class="checkbox"><label class="prev-average"><input type="checkbox" ng-model="filter.showPrevAverage"> Среднее предыдущее, {{data.chartsData.wells.averageLines[0].value}} {{data.chartsData.field.uom || dadata.chartsData.wells.uomta.chartsData.fieldNns.uom || data.chartsData.fieldGs.uom}}</label></div>--> <div ng-hide="filter.timeKey === 'year'"> <!--<div class="checkbox"><label><input type="checkbox" ng-model="filter.showMarker00"> min/max план ▲</label></div>--> <div class="checkbox"><label><input type="checkbox" ng-model="filter.showMarkers[0][1]"> min/max факт ■</label></div> </div> <div ng-show="filter.timeKey === 'year'"> <div class="checkbox"><label><input type="checkbox" ng-model="filter.showMarkersYear[0][0]"> min/max факт ▲</label></div> </div> <div class="checkbox"><label><input type="checkbox" ng-model="filter.showTable"> Табличное представление</label></div> </div> </div> <div class="dash-item-no-data" ng-hide="data.chartsData.wells"><p>Скважины не бурились в этот промежуток времени.</div> </div> </div> </div> <div class="table-container" ng-show="filter.showTable && data.chartsData.wellsObjects"> <div table-objects-chart ng-model="data.chartsData.wellsObjects" splitted="false"></div> </div> <div class="row half-height-padded"> <div class="dash-item one-rows dash-item-fixed"> <button class="rotate-btn" ng-click="filter.tiltXAxisTextContractors = !filter.tiltXAxisTextContractors"><i class="fa fa-rotate-left"></i></button> <h4 class="dash-item-header">Распределение по подрядчикам<br><span class="dimension">{{data.chartsData.contractors.uom}}</span></h4> <div class="dash-item-chart"> <save-svg-btn file-name="Физика {{data.chartsData.contractors.displayName}} месторождение {{data.field.name}} по подрядчикам"></save-svg-btn> <div grouped-bar-chart ng-model="data.chartsData.contractors" show-values="filter.showValues" tip-class="grouped-chart-tip" title-tip-class="grouped-chart-tip-title" tip-height="35" tilt-x-axis-text="filter.tiltXAxisTextContractors" axis-offset-x="50" axis-offset-y="50" bar-colors="onlyFactChatsColor"></div> <div class="dash-item-no-data" ng-hide="data.chartsData.contractors"><p>Скважины не бурились в этот промежуток времени.</div> </div> </div> <div class="table-container" ng-show="filter.showTable && data.chartsData.contractors"> <div table-contractors-chart contractors="data.chartsData.contractors.values" contractors-src="data.chartsData.contractorsSrc.values" format="{{data.chartsData.contractors.format}}" dimension="{{data.chartsData.field.uom || dadata.chartsData.wells.uomta.chartsData.fieldNns.uom || data.chartsData.fieldGs.uom}}" line-header="{{'Тип услуги'}}"></div> </div> </div> </div> <div class="legend col-sm-12"> <div class="fact-legend"> <span class="legend-color fact-legend-color"></span> <span class="legend-label">- факт</span> </div> <div class="previous-fact-legend"> <span class="legend-color previous-fact-legend-color"></span> <span class="legend-label">- факт за предыдущий год</span> </div> <div class="select-values"> <label class="checkbox-inline"> <input type="checkbox" ng-model="filter.showValues"> показывать значения </label> </div> </div> </div> </div> 