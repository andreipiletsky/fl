<div class="modal" tabindex="-1" role="dialog"> <div class="modal-dialog smb-modal contract-modal"> <div class="modal-content"> <div class="modal-header"> <button tabindex="-1" type="button" class="close" ng-click="$hide()">&times;</button> <h4 class="modal-title ellipis" style="width: 100%">{{reportParameters.title}}</h4> </div> <div class="modal-body"> <form class="form-horizontal"> <div class="form-group" ng-show="reportParameters.selectCompanies"> <label class="col-sm-4 control-label">Объекты</label> <div class="col-sm-8"> <select selectpicker="" data-title="Объект" ng-model="reportParameters.companies" multiple class="form-control"> <option class="close-on-select" value="company" ng-if="data.companies.length > 1">Газпром нефть</option> <option class="close-on-select" value="all" ng-if="data.companies.length > 1">Свод по текущим активам ({{data.companies.length - 1}} ДО)</option> <option data-divider="true" ng-if="data.companies.length > 1"></option> <option ng-repeat="company in data.companies" value="{{company.UID}}">{{company.name}}</option> </select> </div> </div> <div class="form-group" ng-if="reportParameters.rangeSpan"> <label class="col-sm-4 control-label">Период</label> <div class="col-sm-8"> <input date-range-picker class="form-control date-picker" type="text" ng-model="reportParameters.dateRange" options="reportParameters.dateRangeOpt" max="reportParameters.maxDate" readonly> </div> </div> <div class="form-group" ng-if="!reportParameters.rangeSpan"> <label class="col-sm-4 control-label">Период</label> <div class="col-sm-8"> <input ng-model="reportParameters.date" type="text" data-max-date="{{reportParameters.maxDate}}" class="form-control" data-min-view="{{reportParameters.minView}}" data-date-format="{{reportParameters.dateFormat}}" bs-datepicker readonly> </div> </div> <div class="report-additional-settings" ng-show="reportParameters.selectFields && reportParameters.companies && reportParameters.companies.length && reportParameters.companies[0] != 'all' && reportParameters.companies[0] != 'company'"> <div ng-show="additionsSettings" class="settings-container"> <label class="col-sm-12 text-center">Дополнительные настройки</label> <div class="form-group" ng-show="reportParameters.selectFields && reportParameters.companies && reportParameters.companies.length && reportParameters.companies[0] != 'all' && reportParameters.companies[0] != 'company'"> <label class="col-sm-4 control-label">Месторождения</label> <div class="col-sm-8"> <select selectpicker="" data-title="Месторождение" ng-model="reportParameters.fields" ng-options="field as field.name group by field.companyName for field in data.fields" multiple data-live-search="true" class="form-control"> </select> </div> </div> <div class="form-group" ng-show="reportParameters.selectClusters && reportParameters.fields && reportParameters.fields.length"> <label class="col-sm-4 control-label">Кусты</label> <div class="col-sm-8"> <select selectpicker="" data-title="Кусты" ng-model="reportParameters.clusters" ng-options="cluster as cluster.name group by cluster.groupName for cluster in data.clusters" multiple data-live-search="true" class="form-control"> </select> </div> </div> <div class="form-group" ng-show="reportParameters.selectWells && reportParameters.clusters && reportParameters.clusters.length"> <label class="col-sm-4 control-label">Скважины</label> <div class="col-sm-8"> <select selectpicker="" data-title="Скважины" ng-model="reportParameters.wells" ng-options="well as well.name group by well.groupName for well in data.wells" multiple data-live-search="true" class="form-control"> </select> </div> </div> <!--<div class="text-center"><a class="hide-settings" ng-click="additionsSettings = !additionsSettings">свернуть</a></div>--> </div> <div ng-hide="additionsSettings" class="text-center"><a class="show-settings" ng-click="additionsSettings = !additionsSettings">показать дополнительные параметры</a></div> <div ng-show="additionsSettings" class="text-center hide-container"><a class="hide-settings" ng-click="additionsSettings = !additionsSettings">скрыть дополнительные параметры</a></div> </div> <div class="form-group"> <div class="col-sm-offset-4 col-sm-8"> <button ng-click="getReport(reportParameters);$hide()" ng-disabled="!(reportParameters.date || reportParameters.dateRange) || (reportParameters.selectCompanies && (!reportParameters.companies || !reportParameters.companies.length))" type="submit" class="btn btn-default">Получить отчёт</button> </div> </div> </form> </div> </div> </div> </div> 