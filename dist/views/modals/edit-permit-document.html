<div class="modal" tabindex="-1" role="dialog"> <div class="modal-dialog smb-modal contract-modal"> <div class="modal-content"> <div class="modal-header"> <button tabindex="-1" type="button" class="close" ng-click="$hide()">&times;</button> <h4 class="modal-title ellipis" style="width: 100%">{{selectedPermitDocument.documentName}}</h4> </div> <div class="modal-body"> <form novalidate name="editPermitDocumentForm" class="form-horizontal" ng-class="{'form-validation': data.submitted}" ng-submit="updatePermitDocument(editPermitDocumentForm)"> <div class="form-group"> <label class="col-sm-4 control-label">ДО</label> <div class="col-sm-8"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPermitDocument.branchUid" name="branchUid" bs-options="branch.UID as branch.name for branch in data.branches" data-placeholder="Выберите ДО" bs-select required> <span class="caret"></span> </button> </div> <p class="error-message" ng-show="data.submitted && editPermitDocumentForm.branchUid.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Тип документа</label> <div class="col-sm-8"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPermitDocument.documentTypeId" name="documentTypeId" bs-options="documentType.id as documentType.name for documentType in data.documentTypes" data-placeholder="Выберите тип документа" bs-select required> <span class="caret"></span> </button> </div> <p class="error-message" ng-show="data.submitted && editPermitDocumentForm.documentTypeId.$error.required">поле обязательно для заполнения</p> </div> <div ng-if="!multiSelectLocalities()"> <div class="form-group"> <label class="col-sm-4 control-label">Месторождение</label> <div class="col-sm-8"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPermitDocument.localityUid" name="localityUid" bs-options="locality.UID as locality.name for locality in data.localities" data-placeholder="Выберите месторождение" bs-select required> <span class="caret"></span> </button> </div> <p class="error-message" ng-show="data.submitted && editPermitDocumentForm.localityUid.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Куст</label> <div class="col-sm-8"> <input type="text" ng-model="newPermitDocument.clusterUid" typeahead-editable="false" typeahead-input-formatter="getClusterName($model)" uib-typeahead="cluster.UID as cluster.name for cluster in data.clusters | filter:{name:$viewValue}" typeahead-min-length="0" typeahead-select-on-exact="true" typeahead-focus-on-select="false" class="form-control input-sm" placeholder="Выберите куст" autocomplete="off"> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">Скважина</label> <div class="col-sm-8"> <input type="text" name="wellUid" ng-model="newPermitDocument.wellUid" typeahead-editable="false" typeahead-input-formatter="getWellName($model)" uib-typeahead="well.UID as well.name for well in data.wells | filter:{name:$viewValue}" typeahead-min-length="0" typeahead-select-on-exact="true" typeahead-focus-on-select="false" class="form-control input-sm" placeholder="Выберите скважину" required autocomplete="off"> </div> <p class="error-message" ng-show="data.submitted && editPermitDocumentForm.wellUid.$error.required">поле обязательно для заполнения</p> </div> </div> <div ng-if="multiSelectLocalities()"> <div class="form-group"> <label class="col-sm-4 control-label">Месторождения</label> <div class="col-sm-8"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPermitDocument.localityUid" name="localityUid" bs-options="locality.UID as locality.name for locality in data.localities" data-placeholder="Выберите месторождение" data-multiple="true" bs-select required> <span class="caret"></span> </button> </div> <p class="error-message" ng-show="data.submitted && editPermitDocumentForm.localityUid.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Кусты</label> <div class="col-sm-8"> <select selectpicker="" data-title="Кусты" ng-model="newPermitDocument.clusterUid" ng-options="cluster.UID as cluster.name group by cluster.localityName for cluster in data.clusters track by cluster.UID" multiple data-live-search="true" class="form-control input-sm"> </select> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">Скважины</label> <div class="col-sm-8"> <select selectpicker="" data-title="Скважины" name="wellUid" ng-model="newPermitDocument.wellUid" ng-options="well.UID as well.name group by well.clusterLocalityName for well in data.wells track by well.UID" multiple data-live-search="true" class="form-control input-sm" required> </select> </div> <p class="error-message" ng-show="data.submitted && editPermitDocumentForm.wellUid.$error.required">поле обязательно для заполнения</p> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">Номер проекта</label> <div class="col-sm-8"> <input ng-model="newPermitDocument.projectNumber" name="projectNumber" type="text" class="form-control input-sm" required> </div> <p class="error-message" ng-show="data.submitted && editPermitDocumentForm.projectNumber.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Дата составления</label> <div class="col-sm-8"> <input ng-model="newPermitDocument.developmentDate" name="developmentDate" type="text" class="form-control input-sm" bs-datepicker data-placement="'top-left'"> </div> <p class="error-message" ng-show="data.submitted && editPermitDocumentForm.developmentDate.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Документ</label> <div class="col-sm-8"> <button class="btn btn-default btn-sm ellipis" style="width: 100%" ngf-select name="file" ng-model="newPermitDocument.file">{{newPermitDocument.file.name || 'Выберите файл'}}</button> </div> <p class="error-message" ng-show="data.submitted && editPermitDocumentForm.file.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <div class="col-sm-offset-4 col-sm-8"> <button type="submit" class="btn btn-default" ng-disabled="data.disableSend">Сохранить</button> <button ng-click="$hide()" type="button" class="btn btn-default">Отмена</button> </div> </div> </form> </div> </div> </div> </div> 