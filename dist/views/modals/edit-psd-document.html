<div class="modal" tabindex="-1" role="dialog"> <div class="modal-dialog smb-modal contract-modal"> <div class="modal-content"> <div class="modal-header"> <button tabindex="-1" type="button" class="close" ng-click="$hide()">&times;</button> <h4 class="modal-title ellipis" style="width: 100%">{{selectedPsdDocument.documentName}}</h4> </div> <div class="modal-body"> <form novalidate name="editPsdDocumentForm" class="form-horizontal" ng-class="{'form-validation': data.submitted}" ng-submit="updatePsdDocument(editPsdDocumentForm.$valid)"> <div class="form-group"> <label class="col-sm-4 control-label">ДО</label> <div class="col-sm-8"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.branchUid" name="branchUid" bs-options="branch.UID as branch.name for branch in data.branches" data-placeholder="Выберите ДО" bs-select required> <span class="caret"></span> </button> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.branchUid.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Месторождение</label> <div class="col-sm-8"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.localityUid" name="localityUid" bs-options="locality.UID as locality.name for locality in data.localities" data-placeholder="Выберите месторождение" bs-select required> <span class="caret"></span> </button> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.localityUid.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Тип проекта</label> <div class="col-sm-8"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.documentTypeId" name="documentTypeId" bs-options="documentType.id as documentType.name for documentType in data.documentTypes" data-placeholder="Выберите тип документа" bs-select required> <span class="caret"></span> </button> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.documentTypeId.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Тип профиля скважин</label> <div class="col-sm-8"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.profileTypeId" name="profileTypeId" bs-options="profileType.UID as profileType.name for profileType in data.profileTypes" data-placeholder="Выберите тип профиля скважин" bs-select required> <span class="caret"></span> </button> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.profileTypeId.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Цель бурения</label> <div class="col-sm-8"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.drillType" name="drillType" bs-options="drillType.UID as drillType.name for drillType in data.drillTypes" data-placeholder="Выберите категорию скважин" bs-select required> <span class="caret"></span> </button> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.uidCategory.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Назначение</label> <div class="col-sm-8"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.wellCategory" name="wellCategory" bs-options="wellCategory.UID as wellCategory.name for wellCategory in data.wellCategories" data-placeholder="Выберите назначение скважин" bs-select required> <span class="caret"></span> </button> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.wellCategory.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Целевой пласт</label> <div class="col-sm-8"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.horizon" name="horizon" bs-options="horizon.UID as horizon.name for horizon in data.horizons" data-placeholder="Выберите пласт" bs-select data-multiple="1"> <span class="caret"></span> </button> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">Глубина бурения по стволу</label> <div class="col-sm-2"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.measuredDepthActualSign" name="measuredDepthActualSign" bs-options="measuredDepthActualSign.UID as measuredDepthActualSign.name for measuredDepthActualSign in data.intervalSigns" data-placeholder="Выберите условие" bs-select> <span class="caret"></span> </button> </div> <label class="col-sm-1 control-label" ng-show="measuredDepthActualShowRange && newPsdDocument.measuredDepthActualSign != null">От</label> <label class="col-sm-2 control-label" ng-hide="measuredDepthActualShowRange || newPsdDocument.measuredDepthActualSign == null">Значение</label> <div ng-class="{'col-sm-2': measuredDepthActualShowRange && newPsdDocument.measuredDepthActualSign != null, 'col-sm-4': !measuredDepthActualShowRange && newPsdDocument.measuredDepthActualSign != null}"> <input ng-model="newPsdDocument.measuredDepthActual" name="measuredDepthActual" class="form-control input-sm" ng-hide="newPsdDocument.measuredDepthActualSign == null" ng-required="newPsdDocument.measuredDepthActualSign != null" min="0" max="{{measuredDepthActualShowRange ? Math.min(newPsdDocument.measuredDepthActualIntervalGreaterValue, 10000) : 10000}}" type="number" step="1"> </div> <label class="col-sm-1 control-label" ng-show="measuredDepthActualShowRange">До</label> <div class="col-sm-2" ng-show="measuredDepthActualShowRange"> <input ng-model="newPsdDocument.measuredDepthActualIntervalGreaterValue" name="measuredDepthActualIntervalGreaterValue" class="form-control input-sm" ng-required="measuredDepthActualShowRange" min="{{measuredDepthActualShowRange ? newPsdDocument.measuredDepthActual : null}}" type="number" step="1" max="10000"> </div> <p class="error-message col-sm-12" ng-show="data.submitted && (editPsdDocumentForm.measuredDepthActual.$error.required || editPsdDocumentForm.measuredDepthActualIntervalGreaterValue.$error.required)">поле обязательно для заполнения</p> <p class="error-message col-sm-12" ng-show="data.submitted && (editPsdDocumentForm.measuredDepthActual.$error.min || editPsdDocumentForm.measuredDepthActual.$error.max || editPsdDocumentForm.measuredDepthActualIntervalGreaterValue.$error.max || editPsdDocumentForm.measuredDepthActualIntervalGreaterValue.$error.min)">неверно заданы значения диапазонов</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Глубина по вертикали</label> <div class="col-sm-2"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.verticalDepthActualSign" name="verticalDepthActualSign" bs-options="verticalDepthActualSign.UID as verticalDepthActualSign.name for verticalDepthActualSign in data.intervalSigns" data-placeholder="Выберите условие" bs-select> <span class="caret"></span> </button> </div> <label class="col-sm-1 control-label" ng-show="verticalDepthActualShowRange && newPsdDocument.verticalDepthActualSign != null">От</label> <label class="col-sm-2 control-label" ng-hide="verticalDepthActualShowRange || newPsdDocument.verticalDepthActualSign == null">Значение</label> <div ng-class="{'col-sm-2': verticalDepthActualShowRange && newPsdDocument.verticalDepthActualSign != null, 'col-sm-4': !verticalDepthActualShowRange && newPsdDocument.verticalDepthActualSign != null}"> <input ng-model="newPsdDocument.verticalDepthActual" name="verticalDepthActual" class="form-control input-sm" ng-hide="newPsdDocument.verticalDepthActualSign == null" ng-required="newPsdDocument.verticalDepthActualSign != null" max="{{verticalDepthActualShowRange ? newPsdDocument.verticalDepthActualIntervalGreaterValue : null}}" type="number" step="1" min="0"> </div> <label class="col-sm-1 control-label" ng-show="verticalDepthActualShowRange">До</label> <div class="col-sm-2" ng-show="verticalDepthActualShowRange"> <input ng-model="newPsdDocument.verticalDepthActualIntervalGreaterValue" name="verticalDepthActualIntervalGreaterValue" class="form-control input-sm" ng-required="verticalDepthActualShowRange" min="{{verticalDepthActualShowRange ? newPsdDocument.verticalDepthActual : null}}" type="number" step="1"> </div> <p class="error-message col-sm-12" ng-show="data.submitted && (editPsdDocumentForm.verticalDepthActual.$error.required || editPsdDocumentForm.verticalDepthActualIntervalGreaterValue.$error.required)">поле обязательно для заполнения</p> <p class="error-message col-sm-12" ng-show="data.submitted && (editPsdDocumentForm.verticalDepthActual.$error.min || editPsdDocumentForm.verticalDepthActual.$error.max || editPsdDocumentForm.verticalDepthActualIntervalGreaterValue.$error.min)">неверно заданы значения диапазонов</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Отход по вертикали</label> <div class="col-sm-2"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.offsetActualSign" name="offsetActualSign" bs-options="offsetActualSign.UID as offsetActualSign.name for offsetActualSign in data.intervalSigns" data-placeholder="Выберите условие" bs-select> <span class="caret"></span> </button> </div> <label class="col-sm-1 control-label" ng-show="offsetActualShowRange && newPsdDocument.offsetActualSign != null">От</label> <label class="col-sm-2 control-label" ng-hide="offsetActualShowRange || newPsdDocument.offsetActualSign == null">Значение</label> <div ng-class="{'col-sm-2': offsetActualShowRange && newPsdDocument.offsetActualSign != null, 'col-sm-4': !offsetActualShowRange && newPsdDocument.offsetActualSign != null}"> <input ng-model="newPsdDocument.offsetActual" name="offsetActual" class="form-control input-sm" ng-hide="newPsdDocument.offsetActualSign == null" ng-required="newPsdDocument.offsetActualSign != null" min="0" max="{{offsetActualShowRange ? newPsdDocument.offsetActualIntervalGreaterValue : null}}" type="number" step="1"> </div> <label class="col-sm-1 control-label" ng-show="offsetActualShowRange">До</label> <div class="col-sm-2" ng-show="offsetActualShowRange"> <input ng-model="newPsdDocument.offsetActualIntervalGreaterValue" name="offsetActualIntervalGreaterValue" class="form-control input-sm" ng-required="offsetActualShowRange" min="{{offsetActualShowRange ? newPsdDocument.offsetActual : null}}" type="number" step="1"> </div> <p class="error-message col-sm-12" ng-show="data.submitted && (editPsdDocumentForm.offsetActual.$error.required || editPsdDocumentForm.offsetActualIntervalGreaterValue.$error.required)">поле обязательно для заполнения</p> <p class="error-message col-sm-12" ng-show="data.submitted && (editPsdDocumentForm.offsetActual.$error.min || editPsdDocumentForm.offsetActual.$error.max || editPsdDocumentForm.offsetActualIntervalGreaterValue.$error.min)">неверно заданы значения диапазонов</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Диаметр ЭК</label> <div class="col-sm-2"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.casingDiameterActualSign" name="casingDiameterActualSign" bs-options="casingDiameterActualSign.UID as casingDiameterActualSign.name for casingDiameterActualSign in data.intervalSigns" data-placeholder="Выберите условие" bs-select> <span class="caret"></span> </button> </div> <label class="col-sm-1 control-label" ng-show="casingDiameterActualShowRange && newPsdDocument.casingDiameterActualSign != null">От</label> <label class="col-sm-2 control-label" ng-hide="casingDiameterActualShowRange || newPsdDocument.casingDiameterActualSign == null">Значение</label> <div ng-class="{'col-sm-2': casingDiameterActualShowRange && newPsdDocument.casingDiameterActualSign != null, 'col-sm-4': !casingDiameterActualShowRange && newPsdDocument.casingDiameterActualSign != null}"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.casingDiameterActual" name="casingDiameterActual" bs-options="psdDiameter as psdDiameter for psdDiameter in data.psdDiameters" data-placeholder="Выберите диаметр" bs-select ng-hide="newPsdDocument.casingDiameterActualSign == null" ng-required="newPsdDocument.casingDiameterActualSign != null"> <span class="caret"></span> </button> </div> <label class="col-sm-1 control-label" ng-show="casingDiameterActualShowRange">До</label> <div class="col-sm-2" ng-show="casingDiameterActualShowRange"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.casingDiameterActualIntervalGreaterValue" name="casingDiameterActual" bs-options="psdDiameter as psdDiameter for psdDiameter in data.psdDiameters" data-placeholder="Выберите диаметр" bs-select ng-hide="newPsdDocument.casingDiameterActualSign == null" ng-required="casingDiameterActualShowRange"> <span class="caret"></span> </button> </div> <p class="error-message col-sm-12" ng-show="data.submitted && (editPsdDocumentForm.casingDiameterActual.$error.required || editPsdDocumentForm.casingDiameterActualIntervalGreaterValue.$error.required)">поле обязательно для заполнения</p> <p class="error-message col-sm-12" ng-show="data.submitted && (editPsdDocumentForm.casingDiameterActual.$error.min || editPsdDocumentForm.casingDiameterActual.$error.max || editPsdDocumentForm.casingDiameterActualIntervalGreaterValue.$error.min)">неверно заданы значения диапазонов</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Глубина спуска ЭК</label> <div class="col-sm-2"> <button type="button" class="btn btn-sm btn-default btn-select" ng-model="newPsdDocument.casingShoeDepthActualSign" name="casingShoeDepthActualSign" bs-options="casingShoeDepthActualSign.UID as casingShoeDepthActualSign.name for casingShoeDepthActualSign in data.intervalSigns" data-placeholder="Выберите условие" bs-select> <span class="caret"></span> </button> </div> <label class="col-sm-1 control-label" ng-show="casingShoeDepthActualShowRange && newPsdDocument.casingShoeDepthActualSign != null">От</label> <label class="col-sm-2 control-label" ng-hide="casingShoeDepthActualShowRange || newPsdDocument.casingShoeDepthActualSign == null">Значение</label> <div ng-class="{'col-sm-2': casingShoeDepthActualShowRange && newPsdDocument.casingShoeDepthActualSign != null, 'col-sm-4': !casingShoeDepthActualShowRange && newPsdDocument.casingShoeDepthActualSign != null}"> <input ng-model="newPsdDocument.casingShoeDepthActual" name="casingShoeDepthActual" class="form-control input-sm" ng-hide="newPsdDocument.casingShoeDepthActualSign == null" ng-required="newPsdDocument.casingShoeDepthActualSign != null" min="0" max="{{casingShoeDepthActualShowRange ? newPsdDocument.casingShoeDepthActualIntervalGreaterValue : null}}" type="number" step="1"> </div> <label class="col-sm-1 control-label" ng-show="casingShoeDepthActualShowRange">До</label> <div class="col-sm-2" ng-show="casingShoeDepthActualShowRange"> <input ng-model="newPsdDocument.casingShoeDepthActualIntervalGreaterValue" name="casingShoeDepthActualIntervalGreaterValue" class="form-control input-sm" ng-required="casingShoeDepthActualShowRange" min="{{casingShoeDepthActualShowRange ? newPsdDocument.casingShoeDepthActual : null}}" type="number" step="1"> </div> <p class="error-message col-sm-12" ng-show="data.submitted && (editPsdDocumentForm.casingShoeDepthActual.$error.required || editPsdDocumentForm.casingShoeDepthActualIntervalGreaterValue.$error.required)">поле обязательно для заполнения</p> <p class="error-message col-sm-12" ng-show="data.submitted && (editPsdDocumentForm.casingShoeDepthActual.$error.min || editPsdDocumentForm.casingShoeDepthActual.$error.max || editPsdDocumentForm.casingShoeDepthActualIntervalGreaterValue.$error.min)">неверно заданы значения диапазонов</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Наименование проекта</label> <div class="col-sm-8"> <input ng-model="newPsdDocument.projectName" name="projectName" type="text" class="form-control input-sm" required> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.projectName.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Номер проекта</label> <div class="col-sm-8"> <input ng-model="newPsdDocument.projectNumber" name="projectNumber" type="text" class="form-control input-sm" required> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.projectNumber.$error.required">поле обязательно для заполнения</p> </div> <div class="form-group"> <label class="col-sm-4 control-label">Дата составления ПСД</label> <div class="col-sm-3"> <input ng-model="newPsdDocument.developmentDate" name="developmentDate" type="text" class="form-control input-sm" bs-datepicker data-placement="'top-left'" required> </div> <label class="col-sm-2 control-label">Документ</label> <div class="col-sm-3"> <button class="btn btn-default btn-sm ellipis" style="width: 100%" ngf-select ngf-accept="'.zip'" ngf-pattern="'.zip'" name="file" ng-model="newPsdDocument.file">{{newPsdDocument.file.name || 'Выберите файл'}}</button> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.developmentDate.$error.required">дата обязательна для заполнения</p> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.file.$error.pattern">необходимо выбрать zip файл</p> </div> <div class="form-group"> <label class="col-sm-4 control-label"><input type="checkbox" ng-model="newPsdDocument.inspectionFileRequired" style="vertical-align: middle; margin: 0;"> Дата гос. экпертизы</label> <div class="col-sm-3"> <input ng-model="newPsdDocument.inspectionFileDate" name="inspectionFileDate" type="text" class="form-control input-sm" bs-datepicker data-placement="'top-left'" ng-disabled="!newPsdDocument.inspectionFileRequired" ng-required="newPsdDocument.inspectionFileRequired"> </div> <label class="col-sm-2 control-label">Документ</label> <div class="col-sm-3"> <button class="btn btn-default btn-sm ellipis" style="width: 100%" ngf-select ngf-accept="'.pdf'" ngf-pattern="'.pdf'" name="inspectionFile" ng-model="newPsdDocument.inspectionFile" ng-disabled="!newPsdDocument.inspectionFileRequired">{{newPsdDocument.inspectionFile.name || 'Выберите файл'}}</button> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.inspectionFileDate.$error.required">дата обязательна для заполнения</p> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.inspectionFile.$error.required">необходимо выбрать pdf файл</p> </div> <div class="form-group"> <label class="col-sm-4 control-label"><input type="checkbox" ng-model="newPsdDocument.ecoInspectionFileRequired" style="vertical-align: middle; margin: 0;"> Дата экол. экпертизы</label> <div class="col-sm-3"> <input ng-model="newPsdDocument.ecoInspectionFileDate" name="ecoInspectionFileDate" type="text" class="form-control input-sm" bs-datepicker data-placement="'top-left'" ng-disabled="!newPsdDocument.ecoInspectionFileRequired" ng-required="newPsdDocument.ecoInspectionFileRequired"> </div> <label class="col-sm-2 control-label">Документ</label> <div class="col-sm-3"> <button class="btn btn-default btn-sm ellipis" style="width: 100%" ngf-select ngf-accept="'.pdf'" ngf-pattern="'.pdf'" name="ecoInspectionFile" ng-model="newPsdDocument.ecoInspectionFile" ng-disabled="!newPsdDocument.ecoInspectionFileRequired">{{newPsdDocument.ecoInspectionFile.name || 'Выберите файл'}}</button> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.ecoInspectionFileDate.$error.required">поле обязательно для заполнения</p> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.ecoInspectionFile.$error.required">необходимо выбрать pdf файл</p> </div> <div class="form-group"> <label class="col-sm-4 control-label"><input type="checkbox" ng-model="newPsdDocument.promInspectionFileRequired" style="vertical-align: middle; margin: 0;"> Дата пром. экпертизы</label> <div class="col-sm-3"> <input ng-model="newPsdDocument.promInspectionFileDate" name="promInspectionFileDate" type="text" class="form-control input-sm" bs-datepicker data-placement="'top-left'" ng-disabled="!newPsdDocument.promInspectionFileRequired" ng-required="newPsdDocument.promInspectionFileRequired"> </div> <label class="col-sm-2 control-label">Документ</label> <div class="col-sm-3"> <button class="btn btn-default btn-sm ellipis" style="width: 100%" ngf-select ngf-accept="'.pdf'" ngf-pattern="'.pdf'" name="promInspectionFile" ng-model="newPsdDocument.promInspectionFile" ng-disabled="!newPsdDocument.promInspectionFileRequired">{{newPsdDocument.promInspectionFile.name || 'Выберите файл'}}</button> </div> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.promInspectionFileDate.$error.required">поле обязательно для заполнения</p> <p class="error-message" ng-show="data.submitted && editPsdDocumentForm.promInspectionFile.$error.required">необходимо выбрать pdf файл</p> </div> <div class="form-group"> <div class="col-sm-offset-4 col-sm-8"> <button type="submit" class="btn btn-default" ng-disabled="data.disableSend">Сохранить</button> <button ng-click="$hide()" type="button" class="btn btn-default">Отмена</button> </div> </div> </form> </div> </div> </div> </div> 